<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <title>Church of Philadelphia</title>
    <link rel="stylesheet" href="css/libraries.css">
    <link rel="stylesheet" href="css/styles.css">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,300,900|Montserrat:400,700' rel='stylesheet' type='text/css'>

</head>

<body>
    <div id="page" class="home">

        <!-- nav that shows up in small and medium views -->
        <div class="title-bar" data-responsive-toggle="global" data-hide-for="large">
          <div class="logo">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 68 145" style="enable-background:new 0 0 68 145;" xml:space="preserve">
              <path class="st0" d="M65,29.9L5.4,0.4C2.5-1,0,1.2,0,5.5v133.1c0,4.2,2.5,6.7,5.4,5.6L65,120.9c1.1-0.4,2.1-2.9,2.1-5.4v-80 C67.1,33,66.2,30.5,65,29.9L65,29.9z M61,81.2c0,2.6-1.1,4.7-2.6,4.8L41,86.8v15.8l6.7-1.2v11.2l-5.6,1.5l-15.7,4.2l-11.1,2.9V107 l6.6-1.1V37.7l-6.6-1.9v-19l11.1,4.7h0l32,13.4c1.4,0.6,2.6,3.2,2.6,5.8V81.2L61,81.2z" />
              <path class="st1" d="M52.6,42.2L36.8,37c-1.4-0.5-2.6,1-2.6,3.3v29.3c0,2.3,1.2,4.2,2.6,4.3l15.8,0.7c1.1,0.1,2-1.5,2-3.5V60.6 l-6.1-1v3.7l-6.7-0.9V50.5l6.7,1.6v3.7l6.1,1.2V46.3C54.6,44.4,53.7,42.5,52.6,42.2L52.6,42.2z" />
            </svg>
            </div>
            <button class="menu-icon" type="button" data-toggle></button>
            <div class="title-bar-title">Menu</div>
        </div>

        <!-- nav shows for large and up -->
        <nav id="global" class="top-bar show-line">
          <div class="top-bar-left">
            <div class="logo">
              <a href="#">
                <svg version="1.1" id="Layer_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 68 145" style="enable-background:new 0 0 68 145;" xml:space="preserve">
                  <path class="st0" d="M65,29.9L5.4,0.4C2.5-1,0,1.2,0,5.5v133.1c0,4.2,2.5,6.7,5.4,5.6L65,120.9c1.1-0.4,2.1-2.9,2.1-5.4v-80 C67.1,33,66.2,30.5,65,29.9L65,29.9z M61,81.2c0,2.6-1.1,4.7-2.6,4.8L41,86.8v15.8l6.7-1.2v11.2l-5.6,1.5l-15.7,4.2l-11.1,2.9V107 l6.6-1.1V37.7l-6.6-1.9v-19l11.1,4.7h0l32,13.4c1.4,0.6,2.6,3.2,2.6,5.8V81.2L61,81.2z" />
                  <path class="st1" d="M52.6,42.2L36.8,37c-1.4-0.5-2.6,1-2.6,3.3v29.3c0,2.3,1.2,4.2,2.6,4.3l15.8,0.7c1.1,0.1,2-1.5,2-3.5V60.6 l-6.1-1v3.7l-6.7-0.9V50.5l6.7,1.6v3.7l6.1,1.2V46.3C54.6,44.4,53.7,42.5,52.6,42.2L52.6,42.2z" />
                </svg>
                <span>Church of Philadelphia</span>
              </a>
            </div>
          </div>
          <div class="top-bar-right">
              <ul class="menu" data-responsive-menu="accordion large-dropdown">
                  <li><a href="#">News</a></li>
                  <li><a class="active" href="#">Our Church</a></li>
                  <li><a href="#">Gatherings</a></li>
                  <li><a href="#">Connect</a></li>
                  <li><a href="#">Location</a></li>
                  <li><a href="#">Give</a></li>
              </ul>
          </div>
        </nav>
        <!-- end nav -->

        <div id="content">

          <section id="masthead">
            <div class="row align-center">
              <div class="column large-8">
                  <div class="text box black-bkg">
                      <h1 class="section-heading">We Love You, <span>Charlotte</span></h1>
                      <h2>and we're here to help</h2>
                      <a class="blue-custom-btn" href="/">learn more</a>
                      <ul class="social-icons">
                          <li><a href="#" class="social"><i class="icon-facebook2"></i></a></li>
                          <li><a href="#" class="social"><i class="icon-twitter"></i></a></li>
                          <li><a href="#" class="social"><i class="icon-instagram"></i></a></li>
                      </ul>
                  </div>
              </div>
            </div>

            <div class="image-1" data-interchange="[/images/home/charlotte-downtown_small.jpg, small],
              [/images/home/charlotte-downtown_medium.jpg, medium],
              [/images/home/charlotte-downtown_large.jpg, large],
              [/images/home/charlotte-downtown_xlarge.jpg, xlarge]"></div>

            <!-- <div class="image-2" data-interchange="[/images/home/charlotte-downtown-bw_small.jpg, small],
              [/images/home/charlotte-downtown-bw_medium.jpg, medium],
              [/images/home/charlotte-downtown-bw_large.jpg, large],
              [/images/home/charlotte-downtown-bw_xlarge.jpg, xlarge]"></div> -->

          </section>



          <!-- end #content -->
        </div>

        <footer>
            <div class="row">
                <div class="small-12 medium-6 columns">
                    <div class="information">
                        <h2>Church Information</h2>
                        <h3>Sunday Services Address</h3>
                        <div class="address">
                            Nathaniel Alexander Elementary School
                            <br> 7910 Neal Road
                            <br> Charlotte, NC 28262
                        </div>
                        <i class="icon-phone"></i><a href="tel:980.819.8848">980.819.8848</a>
                        <br>
                        <i class="icon-mail"></i><a href="mailto:info@churchofphiladelphia.com">info@churchofphiladelphia.com</a>
                    </div>
                </div>
                <div class="small-12 medium-6 columns">
                    <ul class="social-icons">
                        <li><a href="#" class="social"><i class="icon-facebook2"></i></a></li>
                        <li><a href="#" class="social"><i class="icon-twitter"></i></a></li>
                        <li><a href="#" class="social"><i class="icon-instagram"></i></a></li>
                    </ul>
                </div>
            </div>

            <div class="copyright">
                <div class="row">
                    <div class="medium-9 columns">&copy; 2016 Church of Philadelphia</div>
                    <div class="rights medium-3 columns">All rights reserved.</div>
                </div>
            </div>

        </footer>
        <!-- end #page -->
    </div>

    <script src="js/min/libraries.build.min.js"></script>
    <script src="js/min/component.build.min.js"></script>
    <script src="js/page.js"></script>
    <script>
        // build scenes
        $(document).ready(function() {

            // console.log("Current Browser Breakpoint:", %c Foundation.MediaQuery.current);

            console.log('%c Current Browser Breakpoint: ', 'color: #bada55', Foundation.MediaQuery.current);
            //
            // $(window).on('changed.zf.mediaquery', function(event, newSize, oldSize){
            //   console.log(newSize)
            // });


            //////////// code for clear or solid header  //////////////////
            function showHeader() {

              var $_global = $('#global'),
                  scrollPos = document.body.scrollTop;

              if (scrollPos === 0) {
                  $_global.removeClass("has-scrolled");
              } else {
                  $_global.addClass("has-scrolled");
              }
            }

            //////////// code for fading masthead image //////////////////
            function fadingImage() {

              	stuff = {
              		_init: function() {
              			var $_topImage  = $('.image-1'),
              					fadeStart = $_topImage.offset().top,
              					fadeUntil = $_topImage.height();
              			this.setEvents( fadeStart, fadeUntil, $_topImage );
              		},
              		setEvents: function( fadeStart, fadeUntil, $_topImage ) {
              			var self = this;

              			$(window).on('scroll', function() {
              				self.checkPosition( fadeStart, fadeUntil, $_topImage );
              			});
              		},
              		checkPosition: function( fadeStart, fadeUntil, $_topImage ) {

              			var scrollPos = document.body.scrollTop;
              			var opacity   = 0;

              			if ( scrollPos<=fadeStart ) {
              				opacity = 1;
              			} else if( scrollPos<=fadeUntil ) {
              				opacity = 1-scrollPos/fadeUntil;
              			}

              			$_topImage.css('opacity', opacity);

              		}
              	}

              	stuff._init();
            }


            $('button.menu-icon').on('click', function() {
                var $_global = $('#global');

                $(this)
                  .closest('.title-bar')
                  .toggleClass('active');
                $_global.toggleClass('show');
            })

            // activate wow.js for animate.css transitions (content fade ins)
            var wow = new WOW();
            wow.init();

            // parallax using ScrollMagic

            var controller = new ScrollMagic.Controller({
                globalSceneOptions: {
                    triggerHook: "onEnter",
                    duration: "200%"
                }
            });

            $('.parallax__parent').each(function() {
                var name = $(this).attr('id');

                new ScrollMagic.Scene({
                        triggerElement: this
                    })
                    .setTween("#" + name + " > div", {
                        y: "80%",
                        ease: Linear.easeNone
                    })
                    // .addIndicators() // only for debug purposes
                    .addTo(controller);
            });

            $(window).on('load', function() {
                if (Foundation.MediaQuery.current == 'small' || Foundation.MediaQuery.current == 'medium' || Foundation.MediaQuery.current == 'large' ) {
                    controller.enabled(false);
                } else {
                    controller.enabled(true);
                    $(window).on('scroll', function() {
                        showHeader();
                        // fadingImage();
                    });
                }
            });

            $(window).on('changed.zf.mediaquery', function(event, newSize, oldSize) {
                if (newSize == 'small' || newSize == 'medium') {
                    controller.enabled(false);
                } else {
                    controller.enabled(true);
                    $(window).on('scroll', function() {
                        showHeader();
                        fadingImage();
                    });
                }
            });

        });
    </script>

</body>

</html>
